
# Delivery Order App

**Разработчик:**
Владислав Боковой 

## Описание Проекта

Веб-приложение для  управления заказами на доставку. Система позволяет создавать новые заказы, просматривать их полный список, применять различные фильтры и поиск, а также генерировать PDF-отчеты для каждого заказа. Приложение состоит из .NET API бэкенда и React фронтенда, работающих с базой данных PostgreSQL.

##  Основные Функции

  * **Создание заказов:**  Форма для добавления новых заказов с указанием города и адреса отправителя/получателя, веса груза и даты забора.
  * **Просмотр заказов:** Отображение всех существующих заказов в удобном табличном виде.
  * **Фильтрация и поиск:**
      * Фильтрация заказов по городу отправителя.
      * Фильтрация по диапазону веса груза.
      * Полнотекстовый поиск по различным полям заказа.
  * **Пагинация:** Разделение списка заказов на страницы для удобства навигации при большом объеме данных.
  * **Генерация PDF-отчетов:** Возможность скачать PDF-отчет для каждого заказа, содержащий все его детали.
  * **Обработка ошибок:** Включает в себя механизмы обработки ошибок API и недоступности базы данных, обеспечивая более стабильную работу.
  * **Валидация ввода:** Проверка данных при создании заказа для обеспечения их корректности.

##  Технологический Стек

Проект построен на  стеке технологий:

### Backend (API)

  * **Язык:** C\#
  * **Фреймворк:** ASP.NET Core 9.0
  * **ORM:** Entity Framework Core
  * **База данных:** PostgreSQL
  * **Маппинг:** AutoMapper
  * **Генерация PDF:** QuestPDF

### Frontend (UI)

  * **Библиотека:** React.js
  * **Язык:** JavaScript (с использованием JSX)
  * **UI-компоненты:** React-Bootstrap
  * **Маршрутизация:** React Router DOM
  * **HTTP-клиент:**  `axios` (для взаимодействия с бэкендом)
  * **Выбор даты:** `react-datepicker`
  * **Слайдер диапазона:** `react-range`

### Инфраструктура

  * **Контейнеризация:** Docker
  * **Оркестрация (локально):** Docker Compose

##  Архитектура Проекта

Приложение имеет классическую клиент-серверную архитектуру:

| Слой           | Описание                                                                  | Технологии                 |
| :------------- | :------------------------------------------------------------------------ | :------------------------- |
| **Frontend** | Пользовательский интерфейс, логика отображения, взаимодействие с API.       | React, React-Bootstrap     |
| **Backend** | RESTful API для обработки запросов, бизнес-логика, взаимодействие с БД.      | ASP.NET Core, EF Core, C\# |
| **Database** | Хранение данных о заказах.                                                  | PostgreSQL                 |
| **Containerization** | Изоляция компонентов приложения в независимые контейнеры            | Docker, Docker Compose     |

### Структура Директорий

```
.
├── DeliveryOrderApp.Api/           # Проект ASP.NET Core Backend
│   ├── Controllers/                # API-контроллеры (OrdersController.cs)
│   ├── Data/                       # Контекст базы данных (OrderDbContext.cs), миграции
│   ├── Models/                     # Модели предметной области (Order, ...)
│   ├── Models/DTO/                 # Объекты для передачи данных (OrderCreateDto)
│   ├── Profile/                    # Профили AutoMapper
│   ├── Services/                   # Сервисы с бизнес-логикой (PdfGenerationService.cs)
│   ├── Converters/                 # Вспомогательные конвертеры (DateTimeConverters.cs)
│   └── appsettings.json            # Настройки подключения к БД, CORS и т.д.
├── delivery-order-app-frontend/    # Проект React Frontend
│   ├── public/                     # Статические файлы
│   ├── src/
│   │   ├── components/             # React-компоненты (OrderList, OrderForm, Filters, SearchBar, ...)
│   │   ├── services/               # Сервисы для взаимодействия с API (ApiService.js)
│   │   ├── config/                 # Файлы конфигурации (config.json)
│   │   └── css/                    # Стили CSS
│   └── package.json                # Зависимости и скрипты Node.js
├── docker-compose.yml              # Определение сервисов Docker Compose (db, backend, frontend)
└── README.md                       # Этот файл
```

##  Как Запустить Проект

Для запуска проекта вам понадобится установленный **Docker Desktop** (который включает Docker Engine и Docker Compose).

1.  **Клонируйте репозиторий:**

    ```bash
    git clone https://github.com/Sacarlite/DeliveryApp.git
    cd DeliveryApp
    ```

2.  **Запустите Docker Compose:**
    Перейдите в корневую директорию проекта, где находится `docker-compose.yml`, и выполните:

    ```bash
    docker-compose up --build
    ```

3.  **Доступ к приложению:**
    После успешного запуска всех контейнеров:

      * **Frontend (пользовательский интерфейс):** Откройте ваш веб-браузер и перейдите по адресу `http://localhost:3000`.
      * **Backend API:** API будет доступен на `http://localhost:5000`.

##  Конфигурация

Настройки приложения управляются через несколько файлов:

  * **`appsettings.json` (Backend):**

      * `ConnectionStrings:OrderDbConnection`: Строка подключения к базе данных PostgreSQL. 
      * `Cors:ReactAppUrl`: URL фронтенд-приложения для настройки CORS.

  * **`docker-compose.yml`:**

      * Переменные окружения для `db` (PostgreSQL `POSTGRES_USER`, `POSTGRES_PASSWORD`, `POSTGRES_DB`).
      * Переменные окружения для `backend` (`ASPNETCORE_URLS`, `ASPNETCORE_ENVIRONMENT`, `Cors__ReactAppUrl`, `ConnectionStrings__OrderDbConnection`).
      * Сопоставление портов (`ports`).

  * **`delivery-order-app-frontend/src/config/config.json` (Frontend):**

      * `API_BASE_URL`: Базовый URL для запросов к бэкенд API.
